<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.dev.cloud.dao.itemMapper">
	<insert id="insertItem" parameterType="Item">
	
	insert into ITEM (
	itemNum
	,ideaDate
	,itemName
	,contract
	
	) 
	VALUES (
	item_seq.NEXTVAL
	,SYSDATE
	,#{itemName}
	,'waiting'
	)
	
	</insert>
	
	<insert id="insertMTI" parameterType="MTI">
	
	insert into MTI (
	MTI_seq
	,id
	,itemNum
	)
	VALUES (
	MTI_seq.NEXTVAL
	,#{id}
	,#{itemNum}
	)
	</insert>
	
	<select id="selectItemById" parameterMap="MTI">
	
	select * 
	from item
	where item_seq=(
        SELECT item_seq
        FROM MTI
        WHERE id = #{id}
    )
	
	</select>
	
	<update id="updateItem">
	
	UPDATE ITEM
	SET 
	itemName = itemName
	,price = price
	,contract = contract
	,column2 = value2
	,column2 = value2
	,column2 = value2
	,column2 = value2
	WHERE condition;


	insert into ITEM (
	itemNum
	,ideaDate
	,itemName
	,price
	,contract
	,itemContent
	,itemOption
	,itemRegDate
	
	<if test="itemImagename != ''">
	,itemImagename
	,saveItemImage
	</if> 
	
	) 
	VALUES (
	item_seq.NEXTVAL
	,#{ideaDate}
	,#{itemName}
	,#{price}
	,#{contract}
	,#{itemContent}
	,#{itemOption}
	,SYSDATE
	
	<if test="itemImagename != ''">
	,#{itemImagename}
	,#{saveItemImage}
	</if> 
	
	)
	
	</update>
	
</mapper>


	
	
	
	